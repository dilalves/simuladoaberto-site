<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Simulados Abertos - Objetivo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Materialize (se não precisar, pode remover estas 2 linhas) -->

  <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet" /> 
  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" /> -->

  <!-- Ícone -->
  <link rel="icon" type="image/x-icon" href="https://www.curso-objetivo.br/assets/img/favicon.ico" />

  <!-- Bootstrap (para o carrossel funcionar) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <style>
  /* === Correção de conflito Materialize x Bootstrap no banner === */
  #banner .carousel { position: relative !important; }
  #banner .carousel-inner { position: relative !important; }
  #banner .carousel-item {
    position: relative !important;
    display: block !important;
    opacity: 1 !important;
    transform: none !important;
  }

  #banner .carousel-item {
    min-height: 380px;
    background-size: cover;
    background-position: center;
  }
  #carouselBanner .carousel-item img {
    width: 100%;
    max-width: 100%;
    height: auto;
    display: block;
  }
  #carouselBanner .carousel-indicators { display: none !important; }

  html, body { overflow-x: hidden; }
  body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background-color: #f8f9fa;
  }
  header {
    margin: 0;
    padding: 20px 0;
    background-color: #002776;
    color: white;
    text-align: center;
  }
  h1 { margin: 0; font-size: 24px; }

  /* Banner em largura total */
  #banner-wrapper { width:100vw; margin:0; padding:0; overflow:hidden; }
  #banner .carousel { width:100vw; }
  #banner { margin: 0; padding: 0; }

  /* Cards em grid 3 + 2 */
  .simulados {
    display: grid;
    grid-template-columns: repeat(3, minmax(280px, 1fr));
    gap: 20px;
    padding: 40px 20px;
    justify-content: center;
  }
  .card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    padding: 20px;
    box-sizing: border-box;
  }
  .card h2 { color: #002776; margin-top: 0; font-size: 20px; }
  .card p { margin: 8px 0; font-size: 14px; }
  .btn {
    display: inline-block;
    background: #ffc107;
    color: black;
    text-decoration: none;
    padding: 10px 15px;
    margin-top: 10px;
    border-radius: 8px;
    font-weight: bold;
  }
  .btn:hover { background: #ffca2c; }
  footer { text-align: center; padding: 20px; font-size: 12px; color: #888; }

  /* Responsividade */
  @media (max-width: 992px) {
    .simulados { grid-template-columns: repeat(2, minmax(260px, 1fr)); }
  }
  @media (max-width: 600px) {
    .simulados { grid-template-columns: 1fr; }
  }
  .card .btn-container { text-align: center; }

  /* GRID: 1 coluna no mobile, 2 colunas a partir de ~900px */
  .news-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 24px;
    padding: 0 20px 30px;
  }
  .news-col {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    padding: 16px 18px;
  }
  @media (min-width: 900px) {
    .news-grid { grid-template-columns: 1fr 1fr; align-items: start; }
    .news-col { padding: 16px 22px; }
    .news-col:first-child { border-right: 1px solid #eee; }
  }

  /* ------------------------------- */
  /* Padronização interna das colunas de notícias */
  /* ------------------------------- */
  .news-col * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  .news-col h5 { margin: 0 0 10px; }

  /* Cada item com o MESMO espaçamento e linha separadora */
  .news-col .noticia-item {
    padding: 10px 0 12px;
    border-bottom: 1px solid #eee;
  }
  .news-col .noticia-item:last-child { border-bottom: 0; }

  /* Data com espaçamento fixo acima do título */
  .news-col .noticia-item strong {
    display: inline-block;
    margin-bottom: 4px;
    font-size: 12px;
    color: #666;
  }

  /* Título ocupa toda a largura e tem altura de linha consistente */
  .news-col a {
    display: block;
    line-height: 1.4;
    color:#003366;
    font-weight:600;
    text-decoration: none;
  }
  .news-col a:hover { text-decoration: underline; }
  /* ------------------------------- */

  /* css para o selo NOVO */
  .badge-novo{
    background:#e53935;
    color:#fff;
    font-size:10px;
    padding:2px 6px;
    border-radius:6px;
    margin-left:6px;
  }
</style>

</head>
<body>
<header>
  <h1>Simulados Abertos — Curso Objetivo Vestibulares</h1>
</header>

<!-- Banner (via GAS) -->
<div id="banner-wrapper"><div id="banner"></div></div>

<section class="simulados">
  <div class="card">
    <h2>Simulado Aberto ENEM - Abril</h2>
    <p><strong>Quando:</strong> 27/04 e 04/05/2025 às 13h</p>
    <div class="btn-container"><a href="https://sites.google.com/view/simuladoenem0525" class="btn">Acessar</a></div>
  </div>

  <div class="card">
    <h2>Simulado Aberto ENEM - Agosto</h2>
    <p><strong>Quando:</strong> 17 e 24/08/2025 às 13h</p>
    <div class="btn-container"><a href="https://sites.google.com/view/simuladoenemobjetivo0825" class="btn">Acessar</a></div>
  </div>

  <div class="card">
    <h2>Simulado Aberto ENEM - Setembro</h2>
    <p><strong>Quando:</strong> 28/09 e 05/10/2025 às 13h</p>
    <div class="btn-container"><a href="https://sites.google.com/view/simuladoenem0925" class="btn">Acessar</a></div>
  </div>

  <div class="card">
    <h2>Fuvestão Maio 2025</h2>
    <p><strong>Quando:</strong> 31/05/2025 às 14h</p>
    <div class="btn-container"><a href="https://sites.google.com/view/simulado-fuvesto-maio-2025" class="btn">Acessar</a></div>
  </div>

  <div class="card">
    <h2>Fuvestão 2026</h2>
    <p><strong>Quando:</strong> 20/09/2025 às 14h</p>
    <p><strong>Adesão em breve!</strong></p>
  </div>
</section>

<!-- Notícias (ENEM + FUVEST, lado a lado) -->
<section id="noticias" class="news-grid">
  <div id="col-enem" class="news-col">
    <div class="loading">Carregando notícias do ENEM…</div>
  </div>
  <div id="col-fuvest" class="news-col">
    <div class="loading">Carregando notícias da FUVEST…</div>
  </div>
</section>


<footer>simuladoaberto.com - Curso Objetivo Vestibulares</footer>

<script>
  // Carrossel via GAS (Bootstrap)
  (async () => {
    const GAS_URL = "https://script.google.com/macros/s/AKfycbzMEuCgPxnM9TYPNJ4oHzCLAltxI5QGCst-qrHkpfwDq6sm7k18bHMBl1WCr774-Y_E/exec";
    try {
      const resp = await fetch(GAS_URL, { cache: "no-store" });
      const html = await resp.text();
      const bannerEl = document.getElementById("banner");
      bannerEl.innerHTML = html;

      // Espera folhas de estilo injetadas
      const links = bannerEl.querySelectorAll('link[rel="stylesheet"]');
      await Promise.all([...links].map(l => new Promise(res => {
        if (l.sheet) return res();
        l.addEventListener('load', res);
        l.addEventListener('error', res);
      })));

      const car = bannerEl.querySelector("#carouselBanner");
      if (car && window.bootstrap) {
        new bootstrap.Carousel(car, { interval: 5000, ride: "carousel", pause: false });
      } else {
        console.warn("Carousel não encontrado ou Bootstrap indisponível.");
      }
    } catch (e) {
      console.error("Erro ao carregar carrossel:", e);
    }
  })();

  // Botão "Ver mais"
  window.expandirNoticias = function (btn) {
    document.querySelectorAll('.noticia-item').forEach(el => el.style.display = 'block');
    if (btn) btn.style.display = 'none';
  };

  // Callbacks JSONP (um para cada coluna)
  window.renderENEM = function (res) {
  document.getElementById('col-enem').innerHTML = res?.html || 'Sem conteúdo.';
  marcarNovasNoticias('col-enem');
  };
  
  window.renderFUVEST = function (res) {
    document.getElementById('col-fuvest').innerHTML = res?.html || 'Sem conteúdo.';
    marcarNovasNoticias('col-fuvest');
  };

  // Injeta JSONP para ENEM
  (function injectJSONP_ENEM() {
    const s = document.createElement('script');
    s.src = 'https://script.google.com/macros/s/AKfycbwrEFIpSICF1s3DXXM2V-VCYBMBol6i1q7MJxyghIZcvYeKFoVHAmzzHzg6Hupmu3g/exec'
          + '?callback=renderENEM&nocache=' + Date.now();
    document.body.appendChild(s);
  })();

  // Injeta JSONP para FUVEST
  (function injectJSONP_FUVEST() {
    const s = document.createElement('script');
    s.src = 'https://script.google.com/macros/s/AKfycbz05kYQ-TTGNDrR_-4qn1NnR841cQFFIwS4-H4FhjiUmI77LOdYVrfAzmgiz5NwLKQG/exec'
          + '?callback=renderFUVEST&nocache=' + Date.now();
    document.body.appendChild(s);
  })();

  function parseDatePt(str){
    const s = str.trim().toLowerCase();

    // 1) dd/mm/aaaa ou dd-mm-aaaa
    let m = s.match(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/);
    if (m) {
      const d = parseInt(m[1],10), mo = parseInt(m[2],10)-1, y = parseInt(m[3],10);
      return new Date(y, mo, d);
    }

    // 2) d de mês de aaaa
    const meses = {
      janeiro:0, fevereiro:1, marco:2, março:2, abril:3, maio:4, junho:5,
      julho:6, agosto:7, setembro:8, outubro:9, novembro:10, dezembro:11
    };
    m = s.match(/(\d{1,2})\s+de\s+([a-zçãé]+)\s+de\s+(\d{4})/i);
    if (m) {
      const dia = parseInt(m[1],10);
      const mesNome = m[2].normalize('NFD').replace(/[\u0300-\u036f]/g,''); // remove acentos
      const mes = meses[mesNome];
      const ano = parseInt(m[3],10);
      if (mes !== undefined) return new Date(ano, mes, dia);
    }

    return null;
  }

  function marcarNovasNoticias(containerId){
    const diasNovo = 5; // quantos dias contam como "Novo!"
    const hoje = new Date();

    document.querySelectorAll(`#${containerId} .noticia-item strong`).forEach(el => {
      const dt = parseDatePt(el.textContent);
      if (!dt) return;

      const diffDias = Math.floor((hoje - dt) / (1000*60*60*24));
      if (diffDias <= diasNovo && !el.querySelector('.badge-novo')) {
        const badge = document.createElement('span');
        badge.className = 'badge-novo';
        badge.textContent = 'Novo!';
        el.appendChild(document.createTextNode(' '));
        el.appendChild(badge);
      }
    });
  }
</script>
</body>
</html>








